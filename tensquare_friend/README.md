# Tensquare-friend

- 十次方交友模块，关注与取关


## 功能

#### 取消关注，删除好友

- 判断JWT认证，判断用户是否具有删除该好友的权限
- 鉴权完毕，取消关注，删除好友
- 喜欢表(好友表)删除记录，userid -\> friend
- 喜欢表(好友表)更新记录，friend -\> userid , 将相互关注的islike状态更新为0，当然原本就没有互相关注也没事
- 在不喜欢表(不想在好友发现列表看见的用户)添加记录，userid不想在发现列表再看见friendid用户


## 问题

- 用户关注好友的时候，需要操作Friend模块的本地表，还有远程调用user模块的user表，目前这个过程是没有考虑分布式事务的问题的
既如果Friend模块用户关注成功了，但是调用user模块失败了，就可能导致粉丝数和关注数没有发生变化，但实际用户却关注了某个用户

